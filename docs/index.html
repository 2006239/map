<!DOCTYPE html>
<html lang="fi">

<head>
  <meta http-equiv="content-type" content="text/html" charset="utf.8" />
  <meta name="robots" content="noindex" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
  <!-- <link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet" /> -->
  <!-- <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script> -->

  <link rel="stylesheet" href="./script/leaflet/leaflet.css"/>
  <script type="text/javascript" src="./script/leaflet/leaflet-src.js"></script>

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <link href="./script/jquery-ui/jquery-ui.css" rel="stylesheet">
  <script src="./script/jquery-ui/jquery-ui.js"></script>

  <script type="text/javascript" src="./script/rajat.js"></script>
  <script type="text/javascript" src="./script/merkit.js"></script>
  <script type="text/javascript" src="./script/rajamerkit.js"></script>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.2.1/chart.umd.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
  <!--
  <script type="text/javascript" src="./script/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
  <link rel="stylesheet" href="./script/leaflet-routing-machine/dist/leaflet-routing-machine.css" />
  -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <!--
  <link rel="stylesheet" href="./script/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <script type="text/javascript" src="./script/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  -->

 
  <title>Kartta</title>
  <style>
    .leaflet-container {
      resize: vertical;
      overflow: hidden;
    }

    .leaflet-tooltip.kuvaus {
      background-color: transparent;
      border: transparent;
      box-shadow: none;
      font-weight: none;
      font-size: 16px;
    }
.kaavio, .slider, .rangeslider {position: relative;}
      .wrapper {
        position: relative;
      }

      #map,
      .form {
        position: relative;
      }

      #map {
        z-index: 1;
      }

      .form {
        z-index: 100000 !important;
        pointer-events: none;
      }

      .form>* {
        pointer-events: auto;
      }
      body{overflow-x: hidden;}

   .info{display:inline-block;}
   .treshold{
	width: 300px;
   } 
    @media only screen and (min-width: 375px) and (max-hight: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait) {

      input[type=checkbox] {
        height: 2vh;
        width: 2vh;
        margin-left: 3vw;
      }

      .valinta {
        font-size: 2vh;
        margin-left: 1vw;
      }

      html,
      body {
        height: 100vh;
        margin: 0;
      }

      .leaflet-container {
        height: 35vh;
        width: 95vw;
        max-width: 95vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 3vw;

      }

      .rangeslider {
        width: 95vw;
      }

      .slider {
        background: #FCF3CF;
        width: 95vw;
        height: 3vh;
        opacity: 2;
        max-width: 95vw;
        max-height: 10vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }

      .kaavio {
        height: 50vh;
        width: 95vw;
        max-width: 96vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 2vw;
      }
    }

    @media screen and (max-device-hight: 375px) {}

    @media only screen and (min-hight: 375px) and (max-width: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape) {

      input[type=checkbox] {
        height: 3vw;
        width: 2vw;
        margin-left: 3vw;
      }

      .valinta {
        font-size: 2vw;
        margin-left: 1vw;
      }

      html,
      body {
        height: 200vh;
        width: 100vw;
        margin: 0;
      }

      .leaflet-container {
        height: 70vh;
        width: 95vw;
        max-width: 95vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 3vw;

      }

      .rangeslider {
        width: 95vw;
      }

      .slider {
        background: #FCF3CF;
        width: 95vw;
        height: 3vh;
        opacity: 2;
        max-width: 95vw;
        max-height: 10vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }

      .kaavio {
        height: 70vh;
        width: 95vw;
        max-width: 96vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 2vw;
      }
    }

    @media screen and (max-width:960px) {
      input[type=checkbox] {
        height: 3vh;
        width: 2vh;
        margin-left: 3vw;
      }

      .valinta {
        font-size: 2vh;
        margin-left: 1vw;
      }

      html,
      body {
        height: 100vh;
        width: 100vw;
        margin: 0;
      }

      .leaflet-container {
        height: 45vh;
        width: 95vw;
        max-width: 95vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }

      .rangeslider {
        width: 95vw;
      }

      .slider {
        background: #FCF3CF;
        width: 95vw;
        height: 3vh;
        opacity: 2;
        max-width: 95vw;
        max-height: 10vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }

      .kaavio {
        height: 45vh;
        width: 95vw;
        max-width: 96vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 2vw;
      }
    }

    @media screen and (max-width:1920px) {

      input[type=checkbox] {
        height: 3vh;
        width: 2vh;
        margin-left: 3vw;
      }

      .valinta {
        font-size: 2vh;
        margin-left: 1vw;
      }

      html,
      body {
        height: 100vh;
        margin: 0;
      }

      .leaflet-container {
        height: 45vh;
        width: 95vw;
        max-width: 95vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 3vw;

      }

      .rangeslider {
        width: 95vw;
      }

      .slider {
        background: #FCF3CF;
        width: 95vw;
        height: 3vh;
        opacity: 2;
        max-width: 95vw;
        max-height: 10vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }

      .kaavio {
        height: 45vh;
        width: 95vw;
        max-width: 96vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 2vw;
      }
    }

    @media screen and (min-width:1920px) {

      input[type=checkbox] {
        height: 2vh;
        width: 2vh;
        margin-left: 3vw;
      }

      .valinta {
        font-size: 2vh;
        margin-left: 1vw;
      }

      html,
      body {
        height: 100vh;
        margin: 0;
      }

      .rangeslider {
        width: 95vw;
      }

      .slider {
        background: #FCF3CF;
        width: 95vw;
        height: 3vh;
        opacity: 2;
        max-width: 95vw;
        max-height: 10vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }

      .kaavio {
        height: 45vh;
        width: 95vw;
        max-width: 96vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 2vw;
      }
      .leaflet-container {
        height: 45vh;
        width: 95vw;
        max-width: 95vw;
        max-height: 100vh;
        margin-left: 3vw;
        margin-right: 3vw;
      }
    }
  </style>
</head>

<body onload="startTime()">
  <h3><label style="margin-left: 3vw;" >Kartta</label>
        <input type="file" id="textfile" accept="text/plain" />
        <button id="btnSerial">Serial</button>

        <button type='button' onclick='showAddMarker()'>Merkki</button>
        <button type='button' onclick='live()' id="live">Live!</button>
        <input type="checkbox" id="rotation" name="rotation" checked />
        <label for="rotation">Rotaatio</label>
        <input type="checkbox" id="center" name="center" checked />
        <label for="center">Keskit√§</label>
         OSRM ip:port <input type="text" name="osmrurl" id="osmrurl" placeholder="127.0.0.1:500" value="127.0.0.1:500" maxlength="20"  size="16" class="text">
        <div id="kello"></div>   

  </h3>
  <div class="wrapper">
    <div id="map">
      <form class="form" id="marker-form" style="display:none;">
        <fieldset>
          <label for="name">Nimi: </label>
          <input type="text" name="name" id="name" class="text">
          <label for="desc">Kuvaus: </label>
          <input type="text" name="desc" id="desc" value="" class="text">
          <label for="accuracy">Tarkkuus: </label>
          <input type="accuracy" name="accuracy" id="accuracy" value="" class="text">
          <button type='button' onclick='hideAddMarker()'>Palaa</button>
          <button type='button' onclick='addMarker()'>Tallenna</button>
        </fieldset>
      </form>
      <form class="form" id="marker2-form" style="display:none;">
        <fieldset>
          <label for="name2">Nimi: </label>
          <input type="text" name="name2" id="name2" class="text">
          <label for="desc2">Kuvaus: </label>
          <input type="text" name="desc2" id="desc2" value="" class="text">
          <label for="accuracy2">Tarkkuus: </label>
          <input type="text" name="accuracy2" id="accuracy2" value="" class="text">
        </fieldset>
      </form>
    </div>
  </div>


  <div class="rangeslider">
    <input type="range" min="0" max="600" value="0" class="slider" id="valitsin" title="rangeslider"
      oninput="UpdatePage(this.value)">
  </div>
  km/h> <input type="text" id="treshold" name="treshold" placeholder="0" maxlength="5" size="1"/>
  <div id="matka" class="info" > </div>
  <div id="keskinopeus" class="info"></div>
  <div id="harjoitusaika" class="info"></div>
  <div id="aika" class="info"></div>
  Play speed <input type="text" id="speed" name="speed" placeholder="1" maxlength="2" size="1"/>

    
  </form>
  <div class= "kaavio">
    <canvas id="chart"></canvas>
  </div>
  <!-- ?php include 'session.php'? -->
  <script type="text/javascript">
  function startTime() {
      const today = new Date();
      let h = today.getHours();
      let m = today.getMinutes();
      let s = today.getSeconds();
      m = checkTime(m);
      s = checkTime(s);
      document.getElementById('kello').innerHTML =  h + ":" + m + ":" + s;
      setTimeout(startTime, 1000);
      }
  function checkTime(i) {
      if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
      return i;
  }

  </script>
  <script type="text/javascript" src="./script/testaus.js"></script>

</body>
</meta>

</html>
